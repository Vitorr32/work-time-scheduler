(this["webpackJsonpwork-time-scheduler"]=this["webpackJsonpwork-time-scheduler"]||[]).push([[0],{229:function(e,t,n){},235:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},310:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(21),a=n.n(o),s=(n.p,n(229),n(40)),c=n(30),d=n(79),p=n(80),u=n(85),l=n(84),h=n(364),b=n(36),f=n(50),m=n(104),j=n(76),O=n(369),v=n(366),y=n(368),k=n(370),x=n(167),g=n(83),S="ADD_APPOINTMENTS",w="UPDATED_APPOINTMENT",E="DELETE_APPOINTMENT",D="ADD_JOB",T="UPDATE_JOB",A="DELETE_JOB",C=function(e){return{type:S,payload:e}},P=n(10),F=n.n(P),I=(n(235),"APPOINTMENT_STATE_TO_DO"),M="APPOINTMENT_STATE_COMPLETED",_="SCHEDULE_WORK_ONLY",N="SCHEDULE_FREE_TIME",R="SCHEDULE_FULL",J="JOB_NOT_STARTED",V=n(371),B=n(372);function L(e,t,n,r,i){var o=Object(m.a)(r,2),a=o[0],c=o[1],d=Object(m.a)(i,2),p=d[0],u=d[1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(a&&c){var h=H(a,c,t,n,e,l),b=q(h);if(0!=h.length&&b>=e)return{state:_,periods:h};if(p&&u){var f=e-b,j=H(p,u,t,n,f),O=q(j),v=U([].concat(Object(s.a)(h),Object(s.a)(j)));return 0!=j.length&&b+O>=e?{state:N,periods:v}:{state:R,periods:v}}console.error("It was nescessary to use free time, but there was no free period start or end configured!")}else console.error("There was no work period start or end configured!")}function H(e,t,n,r,i,o){for(var a=[],s=o||F()().add(1,"day").startOf("day").set("hour",e),c={start:null,end:null,hours:0};s.isBefore(n);){if(0!=i)if(c.start){if(q([].concat(a,[{hours:1+c.hours}]))>=i){c.end=s.clone(),c.hours++,a.push(Object.assign({},c)),c={start:null,end:null,hours:0};break}}else if(q(a)>=i)break;var d=r.find((function(e){return!!s.isBetween(e.startDate,e.endDate,void 0,"[)")}));if(d)c.start&&(c.end=s.clone(),c.hours++,a.push(Object.assign({},c)),c={start:null,end:null,hours:0}),s=d.endDate.isSameOrAfter(d.endDate.clone().startOf("day").set("hour",t))?s.add(1,"day").set("hour",e):s.set("hour",d.endDate.get("hour"));else{if(s.isSameOrAfter(n)){c.start&&(c.end=s.clone(),c.hours++,a.push(Object.assign({},c)));break}s.isSameOrAfter(s.clone().set("hour",t))?(c.start&&(c.end=s.clone(),c.hours++,a.push(Object.assign({},c)),c={start:null,end:null,hours:0}),s=s.add(1,"day").set("hour",e)):(c.start?(c.end=s.clone(),c.hours++):c.start=s.clone(),s=s.add(1,"hour"))}}return a}function U(e){var t=[],n=[];return e.forEach((function(r,i){if(!n.includes(i)){var o=e.findIndex((function(e){return r.end.isSame(e.start)}));-1!==o&&(n.push(o),r.end=e[o].end,r.hours=r.end.diff(r.start,"hours")),t.push(r)}})),t}function q(e){return e.reduce((function(e,t){return{hours:e.hours+t.hours}}),{hours:0}).hours}var W=n(374),Y=n(14),z={labelCol:{span:8},wrapperCol:{span:16}},K=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).formRef=i.a.createRef(),r.state={isModalVisible:!1,isFutherActionModalVisible:!1,appointmentPreview:null,appointmentPeriods:[],appointmentSuccessful:!1},r}return Object(p.a)(n,[{key:"resetFormState",value:function(){this.setState({isModalVisible:!1,isFutherActionModalVisible:!1,appointmentPreview:null,appointmentPeriods:[],appointmentSuccessful:!1})}},{key:"onFormSubmit",value:function(e){var t=this.props.jobs.length,n=this.state.appointmentPeriods.map((function(n,r){return{startDate:n.start,endDate:n.end,title:e.name,price:e.price,description:e.description,state:I,hours:n.hours,id:"job_"+t+"_app_"+r,jobId:t}})),r={id:t,name:e.name,appointments:n.map((function(e){return e.id})),price:e.price,description:e.description,dueDate:e.dueDate,totalHours:e.hours,state:J};this.props.addJob(r),this.props.addAppointments(n),this.resetFormState(),this.formRef.current.resetFields()}},{key:"previewPeriods",value:function(e,t){var n=Object(m.a)(e,1)[0],r=Object(m.a)(t,5),i=(r[0],r[1],r[2],r[3]),o=r[4],a=this.props,s=a.appointments,c=a.workStart,d=a.workEnd,p=a.freeStart,u=a.freeEnd;if(n.name.includes("hours")||n.name.includes("dueDate"))if(i.value&&o.value){var l=L(i.value,o.value,s,[c,d],[p,u]);if(!l)return void console.error("Error on saving the periods");switch(l.state){case _:this.setState({appointmentPreview:"The job can be sucessfully distributed in the work period",appointmentPeriods:l.periods,appointmentSuccessful:!0});break;case N:this.setState({appointmentPreview:"The job will invade some of your free time period",appointmentPeriods:l.periods,appointmentSuccessful:!0});break;case R:this.setState({appointmentPreview:"The job could not be distributed into your work/free time, further action will be required on submit",appointmentPeriods:l.periods,appointmentSuccessful:!1})}}else this.setState({appointmentPreview:"",appointmentPeriods:[]})}},{key:"onFutherActionSet",value:function(e){var t=this,n=this.props,r=n.appointments,i=n.workStart,o=n.workEnd,a=n.freeStart,c=n.freeEnd,d=this.formRef.current.getFieldsValue(),p=d.dueDate,u=d.hours,l=U(H(e?Math.min(i,a):Math.max(o,c),e?Math.max(o,c):Math.min(i,a),e?p.set("year",9999):p,[].concat(Object(s.a)(r),Object(s.a)(this.state.appointmentPeriods)),u-q(this.state.appointmentPeriods),e?p:F()().startOf("day").set("hour",Math.max(o,c))),this.state.appointmentPeriods);this.setState({appointmentPeriods:l,appointmentSuccessful:!0,appointmentPreview:"",isModalVisible:!1,isFutherActionModalVisible:!1},(function(){return t.onFormSubmit(t.formRef.current.getFieldsValue())}))}},{key:"allowFormToBeSubmitted",value:function(){var e=this.props,t=e.workStart,n=e.workEnd,r=e.freeStart,i=e.freeEnd;return!!(t&&n&&r&&i)}},{key:"validateDueDate",value:function(e,t){return F()().isSameOrAfter(t)?Promise.reject("The due date needs to be after now!"):Promise.resolve()}},{key:"render",value:function(){var e=this,t=this.allowFormToBeSubmitted();return Object(Y.jsxs)(i.a.Fragment,{children:[Object(Y.jsx)(j.a,{type:"primary",onClick:function(){return e.setState({isModalVisible:!0})},children:"Add Event"}),Object(Y.jsx)(O.a,{title:"Add Event",visible:this.state.isModalVisible,okText:"Submit",onCancel:this.resetFormState.bind(this),onOk:function(){e.formRef.current.validateFields().then((function(t){e.state.appointmentSuccessful?e.onFormSubmit(t):e.setState({isFutherActionModalVisible:!0})})).catch((function(e){console.log("Validate Failed:",e)}))},okButtonProps:{disabled:!t},children:Object(Y.jsxs)(v.a,Object(c.a)(Object(c.a)({},z),{},{ref:this.formRef,name:"eventForm",initialValues:{remember:!0},onFinish:function(t){return e.onFormSubmit(t)},onFieldsChange:this.previewPeriods.bind(this),children:[Object(Y.jsx)(v.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"The event name is required"}],children:Object(Y.jsx)(y.a,{disabled:!t})}),Object(Y.jsx)(v.a.Item,{label:"Description",name:"description",children:Object(Y.jsx)(y.a.TextArea,{disabled:!t})}),Object(Y.jsx)(v.a.Item,{label:"Price",name:"price",children:Object(Y.jsx)(k.a,{formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},min:0,precision:2,disabled:!t})}),Object(Y.jsx)(v.a.Item,{label:"Estimated Hours",name:"hours",rules:[{required:!0,message:"The ETA is required to allow the scheduler to distribute time"}],disabled:!t,children:Object(Y.jsx)(k.a,{min:0})}),Object(Y.jsx)(v.a.Item,{label:"Due Date",name:"dueDate",rules:[{required:!0,message:"The dude date is required"},{validator:this.validateDueDate}],disabled:!t,children:Object(Y.jsx)(x.a,{format:"DD/MM/YYYY HH:00",showTime:!0})}),Object(Y.jsx)("span",{className:"message",children:this.state.appointmentPreview}),t?null:Object(Y.jsx)("span",{className:"message",children:"Please set the work and free period before attemping to add events to your schedule"})]}))}),Object(Y.jsx)(O.a,{visible:this.state.isFutherActionModalVisible,footer:[Object(Y.jsx)(W.a,{title:"Delay",children:Object(Y.jsx)(j.a,{type:"primary",onClick:function(){return e.onFutherActionSet(!0)},icon:Object(Y.jsx)(V.a,{})})},"delay"),Object(Y.jsx)(W.a,{title:"Overwrite Sleep",children:Object(Y.jsx)(j.a,{type:"primary",onClick:function(){return e.onFutherActionSet(!1)},icon:Object(Y.jsx)(B.a,{})})},"overwrite_sleep"),Object(Y.jsx)(j.a,{onClick:function(){return e.setState({isFutherActionModalVisible:!1})},children:"Cancel"},"back")],children:Object(Y.jsx)("p",{children:"The appointment submitted can't be concluded during your work and free period, what should the scheduler do to allow for this job to be scheduled?"})})]})}}]),n}(i.a.Component),$=Object(g.b)((function(e){return{workStart:e.period.workStart,workEnd:e.period.workEnd,freeStart:e.period.freeStart,freeEnd:e.period.freeEnd,appointments:e.appointment.appointments,jobs:e.appointment.jobs}}),(function(e){return{addAppointments:function(t){return e(C(t))},addJob:function(t){return e({type:D,payload:t})}}}))(K),G=n(365),Q="SET_WORK_PERIOD",X="SET_FREE_PERIOD",Z="WORK_PERIOD",ee="FREE_PERIOD",te=(n(306),G.a.RangePicker),ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).formRef=i.a.createRef(),r.state={isModalVisible:!1},r}return Object(p.a)(n,[{key:"onFormSubmit",value:function(e){switch(this.props.periodType){case Z:this.props.setWorkPeriod({start:e.periodRange[0].get("hours"),end:e.periodRange[1].get("hours")});break;case ee:this.props.setFreePeriod({start:e.periodRange[0].get("hours"),end:e.periodRange[1].get("hours")})}this.setState({isModalVisible:!1})}},{key:"getPeriodLabel",value:function(e){switch(e){case ee:return"Free";case Z:return"Work"}}},{key:"render",value:function(){var e=this;return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(j.a,{onClick:function(){return e.setState({isModalVisible:!0})},children:[this.getPeriodLabel(this.props.periodType)," Period"]}),Object(Y.jsx)(O.a,{title:"".concat(this.getPeriodLabel(this.props.periodType)," Period"),visible:this.state.isModalVisible,okText:"Submit",onCancel:function(){return e.setState({isModalVisible:!1})},onOk:function(){e.formRef.current.validateFields().then((function(t){e.onFormSubmit(t)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(Y.jsx)(v.a,{ref:this.formRef,name:"periodForm",initialValues:{periodRange:[F()().startOf("day").set("hours",this.props.start),F()().startOf("day").set("hours",this.props.end)],remember:!0},onFinish:function(t){return e.onFormSubmit(t)},children:Object(Y.jsx)(v.a.Item,{name:"periodRange",rules:[{required:!0,message:"The range of the period is required!"}],children:Object(Y.jsx)(te,{format:"HH:00"})})})})]})}}]),n}(i.a.Component),re=Object(g.b)((function(e,t){switch(t.periodType){case Z:return{start:new Number(e.period.workStart),end:new Number(e.period.workEnd)};case ee:return{start:e.period.freeStart,end:e.period.freeEnd};default:return{}}}),(function(e){return{setWorkPeriod:function(t){return e({type:Q,payload:t})},setFreePeriod:function(t){return e({type:X,payload:t})}}}))(ne),ie=(n(307),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"onFormSubmit",value:function(){}},{key:"render",value:function(){return Object(Y.jsxs)("header",{children:[Object(Y.jsx)("h2",{children:"Work Scheduler"}),Object(Y.jsxs)("div",{className:"button-group",children:[Object(Y.jsx)(re,{periodType:Z}),Object(Y.jsx)(re,{periodType:ee}),Object(Y.jsx)($,{})]})]})}}]),n}(i.a.Component)),oe=n(145),ae=n(373),se=(n(308),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"TableTimeCellRenderer",value:function(e){var t=this.props,n=t.workStart,r=t.workEnd,i=t.freeStart,o=t.freeEnd,a=F()(e.startDate),s=F()(e.endDate),d="sleep-period";return this.isHoursBetween(n,r,a,s)?d="work-period":this.isHoursBetween(i,o,a,s)&&(d="free-period"),Object(Y.jsx)(f.e.TimeTableCell,Object(c.a)(Object(c.a)({},e),{},{className:d}))}},{key:"isHoursBetween",value:function(e,t,n,r){var i=n.clone().startOf("day").set("hour",e),o=r.clone().startOf("day").set("hour",t);return n.isBetween(i,o,void 0,"[)")&&r.isBetween(i,o,void 0,"(]")}},{key:"getCustomAppointmentContent",value:function(e){var t=e.data,n=e.formatDate;return Object(Y.jsx)(f.b.AppointmentContent,Object(c.a)(Object(c.a)({},e),{},{style:{height:"100%"},children:Object(Y.jsxs)("div",{className:"app-appointment-content",children:[Object(Y.jsx)("div",{className:"title",children:t.title}),Object(Y.jsxs)("div",{className:"value-wrapper",children:["$ ",t.price]}),Object(Y.jsxs)("div",{className:"hour-wrapper",children:[Object(Y.jsx)("span",{children:n(t.startDate,{hour:"numeric",minute:"numeric"})}),Object(Y.jsx)("span",{style:{padding:"0px 3px"},children:" - "}),Object(Y.jsx)("span",{children:n(t.endDate,{hour:"numeric",minute:"numeric"})})]}),t.description?Object(Y.jsx)("div",{className:"description",children:t.description}):null]})}))}},{key:"getTooltipContent",value:function(e){var t=this;return Object(Y.jsx)(f.a.Content,Object(c.a)(Object(c.a)({},e),{},{children:Object(Y.jsxs)("div",{className:"tooltip-wrapper",children:[Object(Y.jsx)(j.a,{onClick:function(){return t.onCompleteTheAppointment(e.appointmentData)},icon:Object(Y.jsx)(oe.a,{}),size:"large",children:"Complete"}),Object(Y.jsx)(j.a,{onClick:function(){return t.onDelayTheAppointment(e.appointmentData)},icon:Object(Y.jsx)(V.a,{}),size:"large",children:"Delay"}),Object(Y.jsx)(j.a,{onClick:function(){return t.onFinishTheAppointment(e.appointmentData)},icon:Object(Y.jsx)(ae.a,{}),size:"large",children:"Finish"})]})}))}},{key:"onCompleteTheAppointment",value:function(e){var t=this.props,n=t.appointments,r=t.jobs,i=Object(s.a)(n),o=i.findIndex((function(t){return t.id===e.id}));if(-1!==o){i[o].state=M;var a=r.find((function(t){return t.id===e.jobId}));this.shouldDeleteJob(a,i)?this.props.deleteJob(a):(this.props.updateAppointment(i[o]),this.props.updateJob(this.onUpdateJobStateOnAppointmentChange(a,i)))}else console.error("Unknown appointment was completed!")}},{key:"onUpdateJobStateOnAppointmentChange",value:function(e,t){var n=t.filter((function(t){return e.appointments.includes(t.id)}));return 0===n.filter((function(e){return e.state===I})).length?e.state="JOB_COMPLETED":0===n.filter((function(e){return e.state===M})).length?e.state=J:e.state="JOB_ON_GOING",e}},{key:"shouldDeleteJob",value:function(e,t){return 0===t.filter((function(t){return e.appointments.includes(t.id)})).filter((function(e){return e.state===I})).length}},{key:"onDelayTheAppointment",value:function(e){var t,n=this.props,r=n.workStart,i=n.workEnd,o=n.freeStart,a=n.freeEnd,c=n.appointments,d=this.findJobOfAppointment(e),p=L(e.hours,F()().startOf("day").set("year",9999),c,[r,i],[o,a],e.endDate).periods.map((function(e,t){return{startDate:e.start,endDate:e.end,title:d.name,price:d.price,description:d.description,state:I,hours:e.hours,id:"job_"+d.id+"_app_"+(d.appointments.length+t),jobId:d.id}})),u=d.appointments.findIndex((function(t){return t===e.id}));(t=d.appointments).splice.apply(t,[u,1].concat(Object(s.a)(p.map((function(e){return e.id}))))),this.props.updateJob(d),this.props.deleteAppointment([e.id]),this.props.addAppointments(p)}},{key:"onFinishTheAppointment",value:function(e){var t=this.findJobOfAppointment(e);this.props.deleteJob(t)}},{key:"getAppointmentComponet",value:function(e){var t,n=e.children,r=e.style,i=e.data;return this.isAppointmentDone(i)?t="appointment-done":this.isAppointmentNow(i)?t="appointment-active":this.isAppointmentLate(i)&&(t="appointment-late"),Object(Y.jsx)(f.b.Appointment,Object(c.a)(Object(c.a)({},e),{},{className:t,style:Object(c.a)({},r),children:n}))}},{key:"getStartDayHour",value:function(){return this.props.workStart&&this.props.freeStart?Math.min(this.props.workStart,this.props.freeStart):0}},{key:"getEndDayHour",value:function(){return this.props.workEnd&&this.props.freeEnd?Math.max(this.props.workEnd,this.props.freeEnd):24}},{key:"isAppointmentDone",value:function(e){return e.state===M}},{key:"isAppointmentNow",value:function(e){return F()().isSameOrAfter(e.startDate)&&F()().isSameOrBefore(e.endDate)}},{key:"isAppointmentLate",value:function(e){return F()().isAfter(e.endDate)&&e.state===I}},{key:"findJobOfAppointment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this.props.jobs.findIndex((function(t){return t.id===e.jobId})):this.props.jobs.find((function(t){return t.id===e.jobId}))}},{key:"onAppointmentChangeCommited",value:function(e){var t=this,n=this.props.appointments;if(e.deleted){var r=n.find((function(t){return t.id===e.deleted})),i=this.findJobOfAppointment(r),o=Object(s.a)(n);o.splice(o.findIndex((function(t){return t.id===e.deleted})),1),this.shouldDeleteJob(i,o)?this.props.deleteJob(i):(i.appointments.splice(i.appointments.findIndex((function(t){return t===e.deleted})),1),this.props.deleteAppointment([e.deleted]),this.props.updateJob(i))}e.changed&&Object.keys(e.changed).forEach((function(r){var i=e.changed[r],o=i.endDate,a=i.startDate,s=n.find((function(e){return e.id===r}));s.startDate=F()(a),s.endDate=F()(o),t.props.updateAppointment(s)}))}},{key:"render",value:function(){return Object(Y.jsxs)("div",{id:"home-wrapper",children:[Object(Y.jsx)(ie,{}),Object(Y.jsx)(h.a,{children:Object(Y.jsxs)(f.h,{locale:"en-UK",data:this.props.appointments,children:[Object(Y.jsx)(b.s,{defaultCurrentViewName:"Week"}),Object(Y.jsx)(b.k,{onCommitChanges:this.onAppointmentChangeCommited.bind(this)}),Object(Y.jsx)(b.m,{}),Object(Y.jsx)(f.c,{}),Object(Y.jsx)(f.e,{cellDuration:60,timeTableCellComponent:this.TableTimeCellRenderer.bind(this)}),Object(Y.jsx)(f.k,{cellDuration:60,timeTableCellComponent:this.TableTimeCellRenderer.bind(this)}),Object(Y.jsx)(f.g,{}),Object(Y.jsx)(f.i,{}),Object(Y.jsx)(f.j,{}),Object(Y.jsx)(f.d,{}),Object(Y.jsx)(f.b,{appointmentComponent:this.getAppointmentComponet.bind(this),appointmentContentComponent:this.getCustomAppointmentContent}),Object(Y.jsx)(f.a,{showCloseButton:!0,showDeleteButton:!0,contentComponent:this.getTooltipContent.bind(this)}),Object(Y.jsx)(f.f,{allowResize:function(){return!1}})]})})]})}}]),n}(r.Component)),ce=Object(g.b)((function(e){return{workStart:e.period.workStart,workEnd:e.period.workEnd,freeStart:e.period.freeStart,freeEnd:e.period.freeEnd,appointments:e.appointment.appointments,jobs:e.appointment.jobs}}),(function(e){return{addAppointments:function(t){return e(C(t))},updateAppointment:function(t){return e({type:w,payload:t})},deleteAppointment:function(t){return e({type:E,payload:t})},updateJob:function(t){return e({type:T,payload:t})},deleteJob:function(t){return e({type:A,payload:t})}}}))(se);var de=function(){return Object(Y.jsx)(ce,{})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,375)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},ue=(n(309),n(310),n(68)),le=n(141),he=n(206),be=n.n(he);function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.findIndex((function(e){return e.id===t.id}));if(-1===n)return console.error("The update operation on appointments failed, no appointment with id "+t.id+" found"),e;var r=Object(s.a)(e);return r[n]=t,r}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.findIndex((function(e){return e.id===t.id}));if(-1===n)return console.error("The update operation on jobs failed, no job with id "+t.id+" found"),e;var r=Object(s.a)(e);return r[n]=t,r}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.map((function(t){return e.findIndex((function(e){return e.id===t}))})),r=Object(s.a)(e);return n.forEach((function(e){return r.splice(e,1)})),r}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.findIndex((function(t){return t.id===e.id})),i=Object(s.a)(t);i.splice(r,1);var o=Object(s.a)(n);return e.appointments.forEach((function(e){var t=o.findIndex((function(t){return t.id===e}));o.splice(t,1)})),{jobs:i,appointments:o}}var ve={appointments:[],jobs:[],history:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(c.a)(Object(c.a)({},e),{},{appointments:[].concat(Object(s.a)(e.appointments),Object(s.a)(t.payload))});case w:return Object(c.a)(Object(c.a)({},e),{},{appointments:fe(e.appointments,t.payload)});case E:return Object(c.a)(Object(c.a)({},e),{},{appointments:je(e.appointments,t.payload)});case D:return Object(c.a)(Object(c.a)({},e),{},{jobs:[].concat(Object(s.a)(e.jobs),[t.payload])});case T:return Object(c.a)(Object(c.a)({},e),{},{jobs:me(e.jobs,t.payload)});case A:var n=Oe(t.payload,e.jobs,e.appointments),r=n.jobs,i=n.appointments;return Object(c.a)(Object(c.a)({},e),{},{jobs:r,appointments:i});default:return e}},ke=n(124),xe=function(e,t){return t instanceof F.a?t.toISOString():t},ge=function(e,t){return"string"===typeof t&&t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?F()(t):t},Se={workStart:null,workEnd:null,freeStart:null,freeEnd:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(c.a)(Object(c.a)({},e),{},{workStart:t.payload.start,workEnd:t.payload.end});case X:return Object(c.a)(Object(c.a)({},e),{},{freeStart:t.payload.start,freeEnd:t.payload.end});default:return e}},Ee={key:"root",storage:be.a,transforms:[Object(ke.a)((function(e){return JSON.stringify(e,xe)}),(function(e){return JSON.parse(e,ge)}))]},De=Object(ue.c)({period:we,appointment:ye}),Te=Object(le.a)(Ee,De);n(313);var Ae=Object(ue.d)(Te,ue.a.apply(void 0,[])),Ce=Object(le.b)(Ae),Pe=n(207);a.a.render(Object(Y.jsx)(i.a.StrictMode,{children:Object(Y.jsx)(g.a,{store:Ae,children:Object(Y.jsx)(Pe.a,{persistor:Ce,children:Object(Y.jsx)(de,{})})})}),document.getElementById("root")),pe()}},[[314,1,2]]]);
//# sourceMappingURL=main.7fd47aef.chunk.js.map